<div class="container-sm">
  <h2><%= link_to @registry.name, registry_packages_path(@registry.name) %> : <%= @package.name %></h2>

  <p>
    <%= @package.description %>
  </p>

  <p>
    <% if link = @package.registry_url %>
      <%= link_to 'Registry', link %> -
    <% end %>
    <% if sanitize_user_url(@package.repository_url).present? && @package.repository_url != @package.registry_url %>
      <%= link_to 'Source', sanitize_user_url(@package.repository_url), :rel => 'nofollow' %>
    <% end %>
    <% if sanitize_user_url(@package.homepage).present?  && @package.repository_url != @package.homepage %>
      - <%= link_to('Homepage', sanitize_user_url(@package.homepage), :rel => 'nofollow') %>
    <% end %>
    <% if link = @package.documentation_url %>
      - <%= link_to 'Documentation', link %>
    <% end %>
  </p>

  <ul class="nav nav-tabs my-3">
    <li class="nav-item">
      <a class="nav-link" href="<%= registry_package_path(@registry, @package) %>">
        Versions
        <span class="badge bg-secondary rounded-pill">
          <%= @package.versions_count %>
        </span>
      </a>
    </li>
    <li class="nav-item">
      <a class="nav-link active" aria-current="page" >
        Dependent Packages
        <span class="badge bg-secondary rounded-pill">
          <%= @package.dependent_packages_count %>
        </span>
      </a>
    </li>
    <%= render 'sort' %>
  </ul>


  <%= render @dependent_packages %>
</div>